# Implementation Plan - Bug Fixes

## P0 (Critical) - 5 bugs
1. **Bug #1** - Onboarding blocked by notification alert
2. **Bug #3** - verifyHashInBlock always returns true
3. **Bug #5** - Share Extension single calendar
4. **Bug #4** - Race condition in checkPendingUpgrades
5. **Bug #2** - Duplicate WidgetData types

## P1 (Important) - 9 bugs
6. **Bug #7** - DataStampManager MainActor blocking
7. **Bug #8** - DateFormatter created repeatedly
8. **Bug #9** - Missing error handling in StorageService
9. **Bug #10** - CameraViewController no auth check
10. **Bug #11** - deleteAllData doesn't delete files
11. **Bug #12** - PhotoItemView comparison
12. **Bug #13** - HapticManager DispatchQueue
13. **Bug #14** - Notification permission too early (linked to #1)
14. **Bug #6** - Hard-coded strings (verify at runtime)

## P2 (Polish) - 9 bugs
15. **Bug #15** - Magic numbers in PDF
16. **Bug #16** - extractCalendarName fragile
17. **Bug #17** - Unused idString
18. **Bug #18** - FlowLayout unused
19. **Bug #19** - interactiveDismissDisabled (won't fix - linked to #1 fix)
20. **Bug #20** - Thumbnail aspect ratio
21. **Bug #21** - No rate limiting on OTS submissions
22. **Bug #22** - VerifyExternalView fragile hash extraction
23. **Bug #23** - colorForTag duplicated
